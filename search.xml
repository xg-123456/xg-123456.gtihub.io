<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SSM小型项目整合</title>
      <link href="/xg-123456.gtihub.io/2021/09/13/ssm-xiao-xing-xiang-mu-zheng-he/"/>
      <url>/xg-123456.gtihub.io/2021/09/13/ssm-xiao-xing-xiang-mu-zheng-he/</url>
      
        <content type="html"><![CDATA[<h1 id="SSM小型项目整合"><a href="#SSM小型项目整合" class="headerlink" title="SSM小型项目整合"></a>SSM小型项目整合</h1><h2 id="图书管理（实现基本的增删改查）"><a href="#图书管理（实现基本的增删改查）" class="headerlink" title="图书管理（实现基本的增删改查）"></a>图书管理（实现基本的增删改查）</h2><h3 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h3><ul><li>IDEA</li><li>MySQL 8.0.22</li><li>Tomcat 7</li><li>Maven 3.0<h3 id="环境要求-1"><a href="#环境要求-1" class="headerlink" title="环境要求"></a>环境要求</h3></li><li>需要基本掌握MySQL数据库，Spring，JavaWeb及MyBatis知识，简单的前端知识。</li></ul><h3 id="数据库代码"><a href="#数据库代码" class="headerlink" title="数据库代码"></a>数据库代码</h3> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE `ssmbuild`;</span><br><span class="line"></span><br><span class="line">USE `ssmbuild`;</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `books`;</span><br><span class="line"></span><br><span class="line">CREATE TABLE `books` (</span><br><span class="line">`bookID` INT(10) NOT NULL AUTO_INCREMENT COMMENT &#x27;书id&#x27;,</span><br><span class="line">`bookName` VARCHAR(100) NOT NULL COMMENT &#x27;书名&#x27;,</span><br><span class="line">`bookCounts` INT(11) NOT NULL COMMENT &#x27;数量&#x27;,</span><br><span class="line">`detail` VARCHAR(200) NOT NULL COMMENT &#x27;描述&#x27;,</span><br><span class="line">KEY `bookID` (`bookID`)</span><br><span class="line">) ENGINE=INNODB DEFAULT CHARSET=utf8</span><br><span class="line"></span><br><span class="line">INSERT  INTO `books`(`bookID`,`bookName`,`bookCounts`,`detail`)VALUES</span><br><span class="line">(1,&#x27;Java&#x27;,1,&#x27;从入门到放弃&#x27;),</span><br><span class="line">(2,&#x27;MySQL&#x27;,10,&#x27;从删库到跑路&#x27;),</span><br><span class="line">(3,&#x27;Linux&#x27;,5,&#x27;从进门到进牢&#x27;);</span><br></pre></td></tr></table></figure><h3 id="基本环境搭建"><a href="#基本环境搭建" class="headerlink" title="基本环境搭建"></a>基本环境搭建</h3><ul><li>1.新建maven项目ssmbuild</li><li>2.导入相关依赖到POM.xml文件<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&lt;groupId&gt;org.example&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;ssmbuild&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">&lt;packaging&gt;war&lt;/packaging&gt;</span><br><span class="line"></span><br><span class="line">&lt;properties&gt;</span><br><span class="line">    &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;</span><br><span class="line">    &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;</span><br><span class="line">&lt;/properties&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;!--Junit--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;4.12&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!--数据库驱动--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;8.0.22&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!-- 数据库连接池 --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;com.mchange&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;c3p0&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;0.9.5.2&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--Servlet - JSP --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;2.5&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;2.2&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;jstl&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.2&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--Mybatis--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;3.5.2&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;2.0.2&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--Spring--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;5.1.9.RELEASE&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;5.1.9.RELEASE&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--    Lombok  添加注解 自动添加有参无参还有setget方法--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.18.14&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure></li><li>3.Maven资源过滤设置<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">    &lt;build&gt;</span><br><span class="line">        &lt;resources&gt;</span><br><span class="line">            &lt;resource&gt;</span><br><span class="line">                &lt;directory&gt;src/main/java&lt;/directory&gt;</span><br><span class="line">                &lt;includes&gt;</span><br><span class="line">                    &lt;include&gt;**/*.properties&lt;/include&gt;</span><br><span class="line">                    &lt;include&gt;**/*.xml&lt;/include&gt;</span><br><span class="line">                &lt;/includes&gt;</span><br><span class="line">                &lt;filtering&gt;false&lt;/filtering&gt;</span><br><span class="line">            &lt;/resource&gt;</span><br><span class="line">            &lt;resource&gt;</span><br><span class="line">                &lt;directory&gt;src/main/resources&lt;/directory&gt;</span><br><span class="line">                &lt;includes&gt;</span><br><span class="line">                    &lt;include&gt;**/*.properties&lt;/include&gt;</span><br><span class="line">                    &lt;include&gt;**/*.xml&lt;/include&gt;</span><br><span class="line">                &lt;/includes&gt;</span><br><span class="line">                &lt;filtering&gt;false&lt;/filtering&gt;</span><br><span class="line">            &lt;/resource&gt;</span><br><span class="line">        &lt;/resources&gt;</span><br><span class="line">    &lt;/build&gt;</span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure></li><li>4.建立基本架构  </li><li>com.ssm.pojo</li><li>com.ssm.controller</li><li>com.ssm.dao</li><li>com.ssm.service<br><img src="https://i.loli.net/2021/09/13/HbguOn5yPGqLUxv.png" alt="ssm基本架构.png"><h3 id="Mybatis层编写"><a href="#Mybatis层编写" class="headerlink" title="Mybatis层编写"></a>Mybatis层编写</h3></li></ul><p>1.数据库配置文件 database.properties  </p><ul><li>MySQL小于8.0版本<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jdbc.driver=com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url=jdbc:mysql://localhost:3306/自己数据库名称?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8</span><br><span class="line">jdbc.username=root</span><br><span class="line">jdbc.password=自己的密码</span><br></pre></td></tr></table></figure></li><li>MySQL大于于8.0版本<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jdbc.driver=com.mysql.cj.jdbc.Driver</span><br><span class="line">jdbc.url=jdbc:mysql://localhost:3306/自己数据库名称?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true </span><br><span class="line">jdbc.username=root</span><br><span class="line">jdbc.password=自己的密码</span><br></pre></td></tr></table></figure></li></ul><p>2.IDEA关联数据库<br>3.编写MyBatis的核心配置文件</p><ul><li><p>mybatis-config.xml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">    &lt;!--    配置数据源 整合之后给spring做--&gt;</span><br><span class="line">    &lt;typeAliases&gt;</span><br><span class="line">        &lt;package name=&quot;com.ssm.pojo&quot;/&gt;</span><br><span class="line">    &lt;/typeAliases&gt;</span><br><span class="line"></span><br><span class="line">    &lt;mappers&gt;</span><br><span class="line">        &lt;mapper class=&quot;com.ssm.dao.BookMapper&quot;&gt;&lt;/mapper&gt;</span><br><span class="line">    &lt;/mappers&gt;</span><br><span class="line"></span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line">```  </span><br><span class="line">4、编写数据库对应的实体类 com.ssm.pojo.Books</span><br></pre></td></tr></table></figure><p>//使用lombok插件！<br>import lombok.AllArgsConstructor;<br>import lombok.Data;<br>import lombok.NoArgsConstructor;<br>//Lombok  添加注解 自动添加有参无参还有setget方法<br>@Data<br>@AllArgsConstructor<br>@NoArgsConstructor<br>public class Books {<br>  private int bookID;<br>  private String bookName;<br>  private int bookCounts;<br>  private String detail;<br>}</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5、编写Dao层的 Mapper接口！</span><br></pre></td></tr></table></figure><p>public interface BookMapper {<br>  //增删改查<br>  //增加一个Book<br>  int addBook(Books book);</p><p>  //根据id删除一个Book<br>  int deleteBookById(@Param(“bookID”) int id);</p><p>  //更新Book<br>  int updateBook(Books books);</p><p>  //根据id查询,返回一个Book<br>  Books queryBookById(@Param(“bookID”) int id);</p><p>  //查询全部Book,返回list集合<br>  List<Books> queryAllBook();</p><p>  Books queryBookByName(@Param(“bookName”) String bookName);<br>}</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6、编写接口对应的 Mapper.xml 文件。需要导入MyBatis的包；</span><br></pre></td></tr></table></figure><mapper namespace="com.ssm.dao.BookMapper">  <!--增加一个Book-->  <insert id="addBook" parameterType="Books">      insert into ssmbuild.books(bookName,bookCounts,detail)      values (#{bookName}, #{bookCounts}, #{detail})  </insert>  <!--根据id删除一个Book-->  <delete id="deleteBookById" parameterType="int">      delete from ssmbuild.books where bookID=#{bookID}  </delete>  <!--更新Book-->  <update id="updateBook" parameterType="Books">      update ssmbuild.books      set bookName = #{bookName},bookCounts = #{bookCounts},detail = #{detail}      where bookID = #{bookID}  </update>  <!--根据id查询,返回一个Book-->  <select id="queryBookById" resultType="Books">      select * from ssmbuild.books      where bookID = #{bookID}  </select>  <!--查询全部Book-->  <select id="queryAllBook" resultType="Books">      select * from ssmbuild.books;  </select></li></ul><!--    查询书籍--><pre><code>&lt;select id=&quot;queryBookByName&quot; parameterType=&quot;String&quot; resultType=&quot;Books&quot;&gt;    select * from ssmbuild.books where bookName = #&#123;bookName&#125;&lt;/select&gt;</code></pre></mapper><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7、编写Service层的接口和实现类  </span><br><span class="line">+ BookService</span><br></pre></td></tr></table></figure>public interface BookService {    //增加一个Book    int addBook(Books books);    //根据id删除一个Book    int deleteBookById(int id);    //更新Book    int updateBook(Books books);    //根据id查询,返回一个Book    Books queryBookById(int id);    //查询全部Book,返回list集合    List<Books> queryAllBook();<pre><code>Books queryBookByName(String bookName);</code></pre><p>}</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ BookServiceImpl</span><br></pre></td></tr></table></figure><p>public class BookServiceImpl implements BookService{<br>    //调用dao层的操作，设置一个set接口，方便Spring管理<br>    private BookMapper bookMapper;</p><pre><code>public void setBookMapper(BookMapper bookMapper) &#123;    this.bookMapper = bookMapper;&#125;public int addBook(Books books) &#123;    return bookMapper.addBook(books);&#125;public int deleteBookById(int id) &#123;    return bookMapper.deleteBookById(id);&#125;public int updateBook(Books books) &#123;    return bookMapper.updateBook(books);&#125;public Books queryBookById(int id) &#123;    return bookMapper.queryBookById(id);&#125;public List&lt;Books&gt; queryAllBook() &#123;    return bookMapper.queryAllBook();&#125;public Books queryBookByName(String bookName) &#123;    return bookMapper.queryBookByName(bookName);&#125;</code></pre><p>}</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### Spring层编写</span><br><span class="line">1、配置Spring整合MyBatis，我们这里数据源使用c3p0连接池；  </span><br><span class="line">2、我们去编写Spring整合Mybatis的相关的配置文件；spring-dao.xml跟spring-service.xml</span><br><span class="line">+ spring-dao.xml</span><br></pre></td></tr></table></figure><?xml version="1.0" encoding="UTF-8"?><p><beans xmlns="http://www.springframework.org/schema/beans"       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"       xmlns:context="http://www.springframework.org/schema/context"       xsi:schemaLocation="http://www.springframework.org/schema/beans       http://www.springframework.org/schema/beans/spring-beans.xsd       http://www.springframework.org/schema/context       https://www.springframework.org/schema/context/spring-context.xsd"></p><pre><code>&lt;!-- 配置整合mybatis --&gt;&lt;!-- 1.关联数据库文件 --&gt;&lt;context:property-placeholder location=&quot;classpath:database.properties&quot;/&gt;&lt;!-- 2.数据库连接池 --&gt;&lt;!--数据库连接池    dbcp 半自动化操作 不能自动连接    c3p0 自动化操作（自动的加载配置文件 并且设置到对象里面）--&gt;&lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;    &lt;!-- 配置连接池属性 --&gt;    &lt;property name=&quot;driverClass&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;    &lt;property name=&quot;jdbcUrl&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;    &lt;property name=&quot;user&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;    &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;    &lt;!-- c3p0连接池的私有属性 --&gt;    &lt;property name=&quot;maxPoolSize&quot; value=&quot;30&quot;/&gt;    &lt;property name=&quot;minPoolSize&quot; value=&quot;10&quot;/&gt;    &lt;!-- 关闭连接后不自动commit --&gt;    &lt;property name=&quot;autoCommitOnClose&quot; value=&quot;false&quot;/&gt;    &lt;!-- 获取连接超时时间 --&gt;    &lt;property name=&quot;checkoutTimeout&quot; value=&quot;10000&quot;/&gt;    &lt;!-- 当获取连接失败重试次数 --&gt;    &lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;2&quot;/&gt;&lt;/bean&gt;&lt;!-- 3.配置SqlSessionFactory对象 --&gt;&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;    &lt;!-- 注入数据库连接池 --&gt;    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;    &lt;!-- 配置MyBaties全局配置文件:mybatis-config.xml --&gt;    &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;/&gt;&lt;/bean&gt;&lt;!-- 4.配置扫描Dao接口包，动态实现Dao接口注入到spring容器中 --&gt;&lt;!--解释 ：https://www.cnblogs.com/jpfss/p/7799806.html--&gt;&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;    &lt;!-- 注入sqlSessionFactory --&gt;    &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt;    &lt;!-- 给出需要扫描Dao接口包 --&gt;    &lt;property name=&quot;basePackage&quot; value=&quot;com.ssm.dao&quot;/&gt;&lt;/bean&gt;</code></pre></beans><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ spring-service.xml</span><br></pre></td></tr></table></figure><?xml version="1.0" encoding="UTF-8"?><beans xmlns="http://www.springframework.org/schema/beans"       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"       xmlns:context="http://www.springframework.org/schema/context"       xsi:schemaLocation="http://www.springframework.org/schema/beans   http://www.springframework.org/schema/beans/spring-beans.xsd   http://www.springframework.org/schema/context   http://www.springframework.org/schema/context/spring-context.xsd"><pre><code>&lt;!-- 扫描service相关的bean --&gt;&lt;context:component-scan base-package=&quot;com.ssm.service&quot; /&gt;&lt;!--BookServiceImpl注入到IOC容器中--&gt;&lt;bean id=&quot;BookServiceImpl&quot; class=&quot;com.ssm.service.BookServiceImpl&quot;&gt;    &lt;property name=&quot;bookMapper&quot; ref=&quot;bookMapper&quot;/&gt;&lt;/bean&gt;&lt;!-- 配置事务管理器 --&gt;&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;    &lt;!-- 注入数据库连接池 --&gt;    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;&lt;/bean&gt;</code></pre></beans><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### SpringMVC层编写</span><br><span class="line">1、web.xml</span><br></pre></td></tr></table></figure><?xml version="1.0" encoding="UTF-8"?><web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"         version="4.0">    <!--DispatcherServlet-->    <servlet>        <servlet-name>springDispatcherServlet</servlet-name>        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>        <init-param>            <param-name>contextConfigLocation</param-name>            <param-value>classpath:applicationContext.xml</param-value>        </init-param>        <load-on-startup>1</load-on-startup>    </servlet>    <servlet-mapping>        <servlet-name>springDispatcherServlet</servlet-name>        <url-pattern>/</url-pattern>    </servlet-mapping>    <!--    乱码过滤-->    <filter>        <filter-name>encodingFilter</filter-name>        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>        <init-param>            <param-name>encoding</param-name>            <param-value>utf-8</param-value>        </init-param>    </filter>    <filter-mapping>        <filter-name>encodingFilter</filter-name>        <url-pattern>/*</url-pattern>    </filter-mapping>    <!--    session-->    <session-config>        <session-timeout>15</session-timeout>    </session-config></web-app><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2.spring-mvc.xml</span><br></pre></td></tr></table></figure><?xml version="1.0" encoding="UTF-8"?><beans xmlns="http://www.springframework.org/schema/beans"       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"       xmlns:context="http://www.springframework.org/schema/context"       xmlns:mvc="http://www.springframework.org/schema/mvc"       xsi:schemaLocation="http://www.springframework.org/schema/beans   http://www.springframework.org/schema/beans/spring-beans.xsd   http://www.springframework.org/schema/context   http://www.springframework.org/schema/context/spring-context.xsd   http://www.springframework.org/schema/mvc   https://www.springframework.org/schema/mvc/spring-mvc.xsd"><pre><code>&lt;!-- 配置SpringMVC --&gt;&lt;!-- 1.开启SpringMVC注解驱动 --&gt;&lt;mvc:annotation-driven /&gt;&lt;!-- 2.静态资源默认servlet配置--&gt;&lt;mvc:default-servlet-handler/&gt;&lt;!-- 3.配置jsp 显示ViewResolver视图解析器 --&gt;&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;    &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt;    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;&lt;/bean&gt;&lt;!-- 4.扫描web相关的bean --&gt;&lt;context:component-scan base-package=&quot;com.ssm.controller&quot; /&gt;</code></pre></beans><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3、Spring配置整合文件，applicationContext.xml</span><br></pre></td></tr></table></figure>    <import resource="classpath:spring-dao.xml"/>    <import resource="classpath:spring.-service.xml"/>    <import resource="classpath:spring-mvc.xml"/></beans><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### Controller 和 视图层编写</span><br><span class="line">1、BookController 类编写</span><br></pre></td></tr></table></figure>@Controller@RequestMapping("/book")public class BookController {    //controller 调用service    @Autowired    @Qualifier("BookServiceImpl")    private BookService bookService;<pre><code>@RequestMapping(&quot;/allBook&quot;)public String list(Model model) &#123;    List&lt;Books&gt; list = bookService.queryAllBook();    model.addAttribute(&quot;list&quot;, list);    return &quot;allBook&quot;;&#125;//新增书籍@RequestMapping(&quot;/toaddBook&quot;)public String addPaper(Books books) &#123;    return &quot;addBook&quot;;&#125;//添加书籍页面的按钮事件@RequestMapping(&quot;addBook&quot;)public String addBook(Books books)&#123;    System.out.println(&quot;addBook=&gt;&quot;+books);    bookService.addBook(books);    return &quot;redirect:/book/allBook&quot;;//重定向到allBook&#125;//跳转到修改页面@RequestMapping(&quot;/toUpdateBook&quot;)public String toUpdatePage(int id,Model model)&#123;    Books book = bookService.queryBookById(id);    model.addAttribute(&quot;book&quot;,book);    return &quot;updateBook&quot;;&#125;//修改书籍@RequestMapping(&quot;/updateBook&quot;)public String updateBook(Books book)&#123;    System.out.println(book);    bookService.updateBook(book);    return &quot;redirect:/book/allBook&quot;;&#125;//删除书籍@RequestMapping(&quot;/deleteBook/&#123;bookID&#125;&quot;)public String deleteBook(@PathVariable(&quot;bookID&quot;) int id)&#123;    bookService.deleteBookById(id);    return &quot;redirect:/book/allBook&quot;;&#125;//查询书籍@RequestMapping(&quot;/queryBook&quot;)public String queryBook(String queryBookName,Model model)&#123;    Books book = bookService.queryBookByName(queryBookName);    List&lt;Books&gt; lists = new ArrayList&lt;Books&gt;();    lists.add(book);    if (book == null)&#123;        lists =  bookService.queryAllBook();        model.addAttribute(&quot;error&quot;,&quot;error&quot;);    &#125;    model.addAttribute(&quot;list&quot;,lists);    return &quot;allBook&quot;;&#125;</code></pre><p>}</p><pre><code>### 到此为止项目结束。1.还有不懂的地方可以查看[狂神说文档](https://mp.weixin.qq.com/s/SDxqGu_il3MUCTcN1EYrng)。  附带b站视频：https://www.bilibili.com/video/BV1RE41127rv?spm_id_from=333.999.0.0  项目仓库地址：https://github.com/xg-123456/xg--ssm-</code></pre>]]></content>
      
      
      <categories>
          
          <category> SSM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SSM整合 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的第一篇博客文章</title>
      <link href="/xg-123456.gtihub.io/2021/09/13/wo-de-di-yi-pian-bo-ke-wen-zhang/"/>
      <url>/xg-123456.gtihub.io/2021/09/13/wo-de-di-yi-pian-bo-ke-wen-zhang/</url>
      
        <content type="html"><![CDATA[<p>#网站搭建<br>##需要的编辑软件</p><ul><li>TYpora<br>个人建议<br>##图片<br><img src="https://tse1-mm.cn.bing.net/th/id/R-C.33d0949ed1d018fbd23b9264027e58e0?rik=XYcoHb/oHS2aFw&riu=http://www.desktx.com/d/file/wallpaper/scenery/20170120/df204ebd7a4829933463e2989deb54c6.jpg&ehk=oIKu9Q7Dsgg8tGWfXQ/dcQBt4l/92jwsatz95dhd0oE=&risl=&pid=ImgRaw&r=0"></li></ul><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 第一篇博客文章 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/xg-123456.gtihub.io/2021/09/12/hello-world/"/>
      <url>/xg-123456.gtihub.io/2021/09/12/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Hello World </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
